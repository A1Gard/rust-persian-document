# پیوست B: عملگرها و نمادها

این پیوست شامل واژه‌نامه‌ای از نحو Rust است، شامل عملگرها و سایر نمادهایی که به‌تنهایی یا در زمینه مسیرها، عمومی‌ها، حدود صفات، ماکروها، ویژگی‌ها، کامنت‌ها، تاپل‌ها و کروشه‌ها ظاهر می‌شوند.

## عملگرها

فهرست کد B-1 شامل عملگرهای موجود در Rust، نمونه‌ای از نحوه ظاهر شدن عملگر در زمینه، توضیح مختصری و اینکه آیا آن عملگر قابل بازنویسی (overloadable) است یا خیر را نشان می‌دهد. اگر عملگری قابل بازنویسی باشد، ویژگی‌ مرتبط برای بازنویسی آن عملگر ذکر شده است.

**فهرست کد B-1: عملگرها**

| عملگر | مثال | توضیح | قابل بازنویسی؟ |
|-------|-------|-------|----------------|
| `!` | `ident!(...)`, `ident!{...}`, `ident![...]` | گسترش ماکرو | خیر |
| `!` | `!expr` | مکمل بیتی یا منطقی | `Not` |
| `!=` | `expr != expr` | مقایسه عدم برابری | `PartialEq` |
| `%` | `expr % expr` | باقیمانده حسابی | `Rem` |
| `%=` | `var %= expr` | باقیمانده حسابی و تخصیص | `RemAssign` |
| `&` | `&expr`, `&mut expr` | قرض گرفتن | خیر |
| `&` | `&type`, `&mut type`, `&'a type`, `&'a mut type` | نوع اشاره‌گر قرض‌گرفته‌شده | خیر |
| `&` | `expr & expr` | AND بیتی | `BitAnd` |
| `&=` | `var &= expr` | AND بیتی و تخصیص | `BitAndAssign` |
| `&&` | `expr && expr` | AND منطقی با مدار کوتاه | خیر |
| `*` | `expr * expr` | ضرب حسابی | `Mul` |
| `*=` | `var *= expr` | ضرب حسابی و تخصیص | `MulAssign` |
| `*` | `*expr` | ارجاع‌زدایی | `Deref` |
| `*` | `*const type`, `*mut type` | اشاره‌گر خام | خیر |
| `+` | `trait + trait`, `'a + trait` | محدودیت نوع مرکب | خیر |
| `+` | `expr + expr` | جمع حسابی | `Add` |
| `+=` | `var += expr` | جمع حسابی و تخصیص | `AddAssign` |
| `,` | `expr, expr` | جداکننده آرگومان و عنصر | خیر |
| `-` | `- expr` | نفی حسابی | `Neg` |
| `-` | `expr - expr` | تفریق حسابی | `Sub` |
| `-=` | `var -= expr` | تفریق حسابی و تخصیص | `SubAssign` |
| `->` | `fn(...) -> type`, `|…| -> type` | نوع بازگشتی تابع و بسته‌بندی | خیر |
| `.` | `expr.ident` | دسترسی به فیلد | خیر |
| `.` | `expr.ident(expr, ...)` | فراخوانی متد | خیر |
| `.` | `expr.0`, `expr.1`, و غیره | نمایه‌سازی تاپل | خیر |
| `..` | `..`, `expr..`, `..expr`, `expr..expr` | محدوده غیرشامل سمت راست | `PartialOrd` |
| `..=` | `..=expr`, `expr..=expr` | محدوده شامل سمت راست | `PartialOrd` |
| `..` | `..expr` | نحو به‌روزرسانی لفظی ساختار | خیر |
| `..` | `variant(x, ..)`, `struct_type { x, .. }` | اتصال الگوی «و بقیه» | خیر |
| `...` | `expr...expr` | (منسوخ شده، به‌جای آن از `..=` استفاده کنید) در الگو: الگوی محدوده شامل | خیر |
| `/` | `expr / expr` | تقسیم حسابی | `Div` |
| `/=` | `var /= expr` | تقسیم حسابی و تخصیص | `DivAssign` |
| `:` | `pat: type`, `ident: type` | محدودیت‌ها | خیر |
| `:` | `ident: expr` | مقداردهی اولیه فیلد ساختار | خیر |
| `:` | `'a: loop {...}` | برچسب حلقه | خیر |
| `;` | `expr;` | پایان‌دهنده بیانیه و آیتم | خیر |
| `;` | `[...; len]` | بخشی از نحو آرایه با اندازه ثابت | خیر |
| `<<` | `expr << expr` | شیفت چپ | `Shl` |
| `<<=` | `var <<= expr` | شیفت چپ و تخصیص | `ShlAssign` |
| `<` | `expr < expr` | مقایسه کوچکتر از | `PartialOrd` |
| `<=` | `expr <= expr` | مقایسه کوچکتر یا مساوی | `PartialOrd` |
| `=` | `var = expr`, `ident = type` | تخصیص/معادل‌سازی | خیر |
| `==` | `expr == expr` | مقایسه برابری | `PartialEq` |
| `=>` | `pat => expr` | بخشی از نحو بازوی match | خیر |
| `>` | `expr > expr` | مقایسه بزرگتر از | `PartialOrd` |
| `>=` | `expr >= expr` | مقایسه بزرگتر یا مساوی | `PartialOrd` |
| `>>` | `expr >> expr` | شیفت راست | `Shr` |
| `>>=` | `var >>= expr` | شیفت راست و تخصیص | `ShrAssign` |
| `@` | `ident @ pat` | اتصال الگو | خیر |
| `^` | `expr ^ expr` | OR انحصاری بیتی | `BitXor` |
| `^=` | `var ^= expr` | OR انحصاری بیتی و تخصیص | `BitXorAssign` |
| `|` | `pat | pat` | گزینه‌های الگو | خیر |
| `|` | `expr | expr` | OR بیتی | `BitOr` |
| `|=` | `var |= expr` | OR بیتی و تخصیص | `BitOrAssign` |
| `||` | `expr || expr` | OR منطقی با مدار کوتاه | خیر |
| `?` | `expr?` | انتشار خطا | خیر |

## نمادهای غیرعملگر

لیست زیر شامل تمام نمادهایی است که به‌عنوان عملگر عمل نمی‌کنند؛ به عبارت دیگر، مانند یک تابع یا فراخوانی متد رفتار نمی‌کنند.

**فهرست کد B-2: نحو مستقل**

| نماد | توضیح |
|-------|-------|
| `'ident` | طول‌عمر نام‌گذاری‌شده یا برچسب حلقه |
| `...u8`, `...i32`, `...f64`, `...usize`, و غیره | لفظی عددی از نوع خاص |
| `"..."` | لفظی رشته |
| `r"..."`, `r#"..."#`, `r##"..."##`, و غیره | لفظی رشته خام، کاراکترهای فرار پردازش نمی‌شوند |
| `b"..."` | لفظی رشته بایت؛ به‌جای رشته یک آرایه از بایت‌ها می‌سازد |
| `br"..."`, `br#"..."#`, `br##"..."##`, و غیره | لفظی رشته بایت خام، ترکیبی از رشته خام و رشته بایت |
| `'...'` | لفظی کاراکتر |
| `b'...'` | لفظی بایت ASCII |
| `|…| expr` | بسته‌بندی |
| `!` | نوع تهی همیشگی برای توابع واگرا |
| `_` | اتصال الگوی «نادیده گرفته‌شده»؛ همچنین برای خواناتر کردن لفظی‌های عدد صحیح استفاده می‌شود |

**فهرست کد B-3: نحو مرتبط با مسیر**

| نماد | توضیح |
|-------|-------|
| `ident::ident` | مسیر فضای نام |
| `::path` | مسیر نسبت به پیش‌نیاز extern، جایی که تمام crate‌های دیگر ریشه دارند (یعنی یک مسیر مطلق صریح شامل نام crate) |
| `self::path` | مسیر نسبت به ماژول فعلی (یعنی یک مسیر نسبی صریح) |
| `super::path` | مسیر نسبت به والد ماژول فعلی |
| `type::ident`, `<type as trait>::ident` | ثابت‌ها، توابع و انواع مرتبط |
| `<type>::...` | آیتم مرتبط برای نوعی که نمی‌توان مستقیماً نام‌گذاری کرد (مثلاً `<&T>::...`, `<[T]>::...`, و غیره) |
| `trait::method(...)` | رفع ابهام فراخوانی متد با نام‌گذاری ویژگی‌ی که آن را تعریف می‌کند |
| `type::method(...)` | رفع ابهام فراخوانی متد با نام‌گذاری نوع‌ای که برای آن تعریف شده است |
| `<type as trait>::method(...)` | رفع ابهام فراخوانی متد با نام‌گذاری ویژگی‌ و نوع |

**فهرست کد B-4: عمومی‌ها**

| نماد | توضیح |
|-------|-------|
| `path<...>` | مشخص کردن پارامترها برای نوع عمومی در یک نوع (مثلاً `Vec<u8>`) |
| `path::<...>`, `method::<...>` | مشخص کردن پارامترها برای نوع، تابع یا متد عمومی در یک عبارت؛ اغلب به‌عنوان turbofish شناخته می‌شود (مثلاً `"42".parse::<i32>()`) |
| `fn ident<...> ...` | تعریف تابع عمومی |
| `struct ident<...> ...` | تعریف ساختار عمومی |
| `enum ident<...> ...` | تعریف برشمارش عمومی |
| `impl<...> ...` | تعریف پیاده‌سازی عمومی |
| `for<...> type` | حدود طول‌عمر رتبه بالاتر |
| `type<ident=type>` | یک نوع عمومی که یک یا چند نوع مرتبط تخصیص‌های خاصی دارند (مثلاً `Iterator<Item=T>`) |

**فهرست کد B-5: محدودیت‌های ویژگی‌**

| نماد | توضیح |
|-------|-------|
| `T: U` | پارامتر عمومی `T` محدود به انواعی که `U` را پیاده‌سازی می‌کنند |
| `T: 'a` | نوع عمومی `T` باید طول‌عمر `'a` را بیشتر زنده بماند (به این معنا که نوع نمی‌تواند به‌صورت انتقالی شامل ارجاعاتی با طول‌عمر کوتاه‌تر از `'a` باشد) |
| `T: 'static` | نوع عمومی `T` هیچ ارجاع قرضی جز ارجاعات `'static` ندارد |
| `'b: 'a` | طول‌عمر عمومی `'b` باید طول‌عمر `'a` را بیشتر زنده بماند |
| `T: ?Sized` | اجازه می‌دهد پارامتر نوع عمومی یک نوع با اندازه پویا باشد |
| `'a + trait`, `trait + trait` | محدودیت نوع مرکب |

**فهرست کد B-6: ماکروها و ویژگی‌ها**

| نماد | توضیح |
|-------|-------|
| `#[meta]` | ویژگی بیرونی |
| `#![meta]` | ویژگی درونی |
| `$ident` | جایگزینی ماکرو |
| `$ident:kind` | ضبط ماکرو |
| `$(…)…` | تکرار ماکرو |
| `ident!(...)`, `ident!{...}`, `ident![...]` | فراخوانی ماکرو |

**فهرست کد B-7: کامنت‌ها**

| نماد | توضیح |
|-------|-------|
| `//` | نظر خطی |
| `//!` | نظر مستند خطی درونی |
| `///` | نظر مستند خطی بیرونی |
| `/*...*/` | نظر بلوکی |
| `/*!...*/` | نظر مستند بلوکی درونی |
| `/**...*/` | نظر مستند بلوکی بیرونی |

**فهرست کد B-8: پرانتزها**

| نماد | توضیح |
|-------|-------|
| `()` | تاپل خالی (معروف به واحد)، هم لفظی و هم نوع |
| `(expr)` | عبارت داخل پرانتز |
| `(expr,)` | عبارت تاپل تک‌عنصری |
| `(type,)` | نوع تاپل تک‌عنصری |
| `(expr, ...)` | عبارت تاپل |
| `(type, ...)` | نوع تاپل |
| `expr(expr, ...)` | عبارت فراخوانی تابع؛ همچنین برای مقداردهی اولیه ساختارهای تاپل و انواع برشمارش تاپل استفاده می‌شود |

**فهرست کد B-9: کروشه‌های فرفری**

| زمینه | توضیح |
|--------|-------|
| `{...}` | عبارت بلوکی |
| `Type {...}` | لفظی ساختار |

**فهرست کد B-10: کروشه‌های مربعی**

| زمینه | توضیح |
|--------|-------|
| `[...]` | لفظی آرایه |
| `[expr; len]` | لفظی آرایه شامل `len` کپی از `expr` |
| `[type; len]` | نوع آرایه شامل `len` نمونه از `type` |
| `expr[expr]` | نمایه‌سازی مجموعه. قابل بازنویسی (`Index`, `IndexMut`) |
| `expr[..]`, `expr[a..]`, `expr[..b]`, `expr[a..b]` | نمایه‌سازی مجموعه که وانمود به برش مجموعه می‌کند، با استفاده از `Range`, `RangeFrom`, `RangeTo`, یا `RangeFull` به‌عنوان «شاخص» |