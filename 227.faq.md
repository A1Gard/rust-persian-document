# سوالات متداول

## hardcoded چیست؟

واژه "hardcoded" به معنای این است که یک مقدار به طور مستقیم و ثابت در کد برنامه نوشته شده است. به عبارت دیگر، این مقدار در زمان نوشتن کد مشخص شده و نمی‌تواند تغییر کند.

به عنوان مثال، وقتی شما یک رشته را به صورت "Hello, world!" در کد خود می‌نویسید، این رشته به عنوان یک "string literal" یا "رشته سخت‌کد شده" شناخته می‌شود. این نوع رشته‌ها در زمان کامپایل مشخص هستند و نمی‌توانند تغییر کنند یا به صورت داینامیک (پویا) تغییر یابند.

در مقابل، نوع داده‌ای به نام `String` در Rust وجود دارد که می‌تواند مقادیر متنی را در زمان اجرا (runtime) و به صورت داینامیک مدیریت کند. این نوع داده به شما اجازه می‌دهد تا رشته‌هایی را ذخیره کنید که اندازه یا محتوای آن‌ها در زمان نوشتن کد مشخص نیست، مانند ورودی کاربر.

به طور خلاصه، "hardcoded" به معنای ثابت و غیرقابل تغییر بودن یک مقدار در کد است.

## تفاوت String و Str در rust چیست؟

در Rust، `String` و `&str` (که به آن "str" نیز گفته می‌شود) دو نوع مختلف برای مدیریت رشته‌ها هستند و هر کدام ویژگی‌ها و کاربردهای خاص خود را دارند:

1. **`String`**:
    - نوعی داده‌ای است که می‌تواند رشته‌های متغیر (mutable) را ذخیره کند.
    - داده‌ها در heap ذخیره می‌شوند، به این معنی که می‌تواند اندازه‌ای متغیر داشته باشد و در زمان اجرا تغییر کند.
    - `String` می‌تواند به راحتی رشته‌ها را به هم متصل کند، تغییر دهد و یا از آن‌ها کپی بگیرد.
    - برای ایجاد یک `String`، معمولاً از تابع `String::from` یا متد `to_string` استفاده می‌شود.

   ```rust
   let mut my_string = String::from("Hello");
   my_string.push_str(", world!"); // تغییر رشته
   ```

2. **`&str`**:
    - نوعی اشاره‌گر به رشته است که به یک رشته ثابت (immutable) اشاره می‌کند.
    - داده‌ها معمولاً در stack ذخیره می‌شوند و نمی‌توانند تغییر کنند.
    - `&str` به عنوان یک نوع مرجع (reference) به رشته‌های سخت‌کد شده یا زیرمجموعه‌ای از یک `String` استفاده می‌شود.
    - این نوع داده برای کار با رشته‌های ثابت و بهینه‌سازی حافظه مناسب است.

   ```rust
   let my_str: &str = "Hello, world!"; // رشته ثابت
   ```

### خلاصه:
- `String` برای رشته‌های متغیر و قابل تغییر استفاده می‌شود و در heap ذخیره می‌شود.
- `&str` برای رشته‌های ثابت و غیرقابل تغییر استفاده می‌شود و به عنوان یک اشاره‌گر به داده‌های رشته‌ای عمل می‌کند.

این دو نوع داده به شما این امکان را می‌دهند که به طور مؤثر با رشته‌ها در Rust کار کنید و بسته به نیاز خود از هر کدام استفاده کنید.

## منظور از نحو در متن ترجمه چیست؟ 

نحو یا نحوه نگارش و انشای زبان برنامه نویسی اصطلاحا syntax نیز گفته می‌شود، درواقع Syntax به مجموعه قوانین و ساختارهای زبانی اطلاق می‌شود که نحوه نوشتن جملات و عبارات در یک زبان برنامه‌نویسی یا زبان طبیعی را تعیین می‌کند. به عبارت دیگر، syntax مشخص می‌کند که چگونه می‌توان کلمات و نمادها را به گونه‌ای ترکیب کرد که جملات معنادار و قابل فهم ایجاد شود. در زبان‌های برنامه‌نویسی، رعایت syntax صحیح برای نوشتن کدهای کارآمد و بدون خطا ضروری است. به عنوان مثال، در زبان Rust، برای تعریف یک تابع باید از ساختار خاصی پیروی کرد که شامل نام تابع، نوع ورودی‌ها و نوع خروجی می‌شود.

## تفاوت برشمارش (enum) و ساختار (struct) چیست؟

**اصلِ ساده**

-  struct (ساختار): مجموعه‌ای از فیلدها که هم‌زمان وجود دارند. مثل یک شیٔ با خصوصیات مختلف.
-  enum (برشمارش): یک مقدار که دقیقاً در یکی از چند حالت ممکن است باشد؛x هر حالت ممکن است دادهٔ متفاوتی داشته باشد.

مثال آسان با JavaScript و Rust

1) وقتی یک شیٔ ثابت با فیلدهای مشخص داریم — از ساختار (Rust) یا object (JS) استفاده کنید.
- JS:
  `const user = { name: "Ali", email: "a@example.com", age: 30 };`
- Rust:
  `struct User { name: String, email: String, age: u8 }`

2) وقتی مقدار باید یکی از چند حالت ممکن باشد — از برشمارش (Rust) یا از یک شیٔ با فیلد type در JS استفاده کنید.
- JS (معمولی):
```js
  const msg1 = { type: "Quit" };
  const msg2 = { type: "Move", x: 10, y: 5 };
  const msg3 = { type: "Write", text: "Hi" };
```  
- Rust:
```rust
  enum Message {
  Quit,
  Move { x: i32, y: i32 },
  Write(String),
  }
```
### چرا برشمارش در Rust می‌تواند متد داشته باشد؟
- چون هم ساختار و هم برشمارش نوع‌هایی هستند که می‌توان برایشان متد تعریف کرد. این به این معنی است که می‌توان رفتار (توابع) را به آن نوع‌ها پیوست کرد تا کار با داده آسان‌تر شود. هیچ چیز عجیب‌تری نیست.

### چطور تصمیم بگیرید — نسخه خیلی ساده و عملی
1. اگر موجودیت‌تان چند فیلد دارد و همه معمولاً با هم هستند → ساختار/object.
2. اگر مقدار باید دقیقاً یکی از چند حالت باشد (و هر حالت دادهٔ متفاوتی ممکن است داشته باشد) → برشمارش یا ساختار { type: "...", ... } در JS.
3. اگر در PHP برای هر حالت کلاس جدا می‌ساختید (MoveMessage، WriteMessage و غیره)، در Rust معمولاً از یک برشمارش استفاده کنید — ساده‌تر و امن‌تر.

### چند نکته عملی روشن
- می‌توانید داخل یک گونه برشمارش از ساختار استفاده کنید و بالعکس — ترکیب رایج است.
- در JS اغلب از یک فیلد type استفاده می‌شود و با if/ switch نوع را چک می‌کنید. در Rust از match استفاده می‌کنید و کامپایلر کمک می‌کند که همه حالت‌ها را پوشش دهید.
- اگر می‌خواهید همانند کلاس‌های PHP رفتار و ارث داشته باشید، در Rust از ساختار + trait استفاده کنید؛ اما برای حالات مختلف که دادهٔ متفاوت دارند، برشمارش معمولاً بهترین انتخاب است.