# نوشتن تست‌های خودکار

در مقاله سال ۱۹۷۲ خود با عنوان "برنامه‌نویس فروتن"، Edsger W. Dijkstra گفت که "آزمایش برنامه می‌تواند راهی بسیار مؤثر برای نشان دادن وجود باگ‌ها باشد، اما برای نشان دادن عدم وجود آن‌ها کاملاً ناکافی است." این بدان معنا نیست که نباید سعی کنیم تا آنجا که می‌توانیم تست کنیم!

درستی در برنامه‌های ما میزانی است که کد ما آنچه را که قصد داریم انجام دهد، انجام می‌دهد. Rust با درجه بالایی از نگرانی درباره درستی برنامه‌ها طراحی شده است، اما درستی پیچیده است و اثبات آن آسان نیست. سیستم تایپ Rust بخش بزرگی از این بار را به دوش می‌کشد، اما سیستم تایپ نمی‌تواند همه چیز را کشف کند. به همین دلیل، Rust از نوشتن تست‌های خودکار نرم‌افزار پشتیبانی می‌کند.

فرض کنید که تابعی به نام `add_two` می‌نویسیم که عدد ۲ را به هر عددی که به آن داده می‌شود، اضافه می‌کند. امضای این تابع یک عدد صحیح را به عنوان پارامتر می‌پذیرد و یک عدد صحیح را به عنوان نتیجه برمی‌گرداند. هنگامی که این تابع را پیاده‌سازی و کامپایل می‌کنیم، Rust تمام بررسی‌های نوع و امانت‌داری را که تاکنون آموخته‌اید، انجام می‌دهد تا اطمینان حاصل کند که، به عنوان مثال، ما یک مقدار رشته‌ای یا یک ارجاع نامعتبر به این تابع نمی‌دهیم. اما Rust نمی‌تواند بررسی کند که این تابع دقیقاً آنچه را که قصد داریم انجام دهد، یعنی بازگرداندن پارامتر به‌علاوه ۲ به جای، به‌عنوان مثال، پارامتر به‌علاوه ۱۰ یا پارامتر منهای ۵۰! این جاست که تست‌ها وارد عمل می‌شوند.

می‌توانیم تست‌هایی بنویسیم که ادعا کنند، به‌عنوان مثال، هنگامی که عدد ۳ را به تابع `add_two` می‌دهیم، مقدار بازگشتی ۵ است. می‌توانیم این تست‌ها را هر زمان که تغییراتی در کد خود ایجاد می‌کنیم، اجرا کنیم تا مطمئن شویم که رفتار درست موجود تغییر نکرده است.