## نصب

اولین گام، نصب Rust است. ما Rust را از طریق `rustup`، ابزاری خط فرمان برای مدیریت نسخه‌های Rust و ابزارهای مرتبط، دانلود می‌کنیم. برای دانلود به اتصال اینترنت نیاز دارید.

**توجه:** اگر به هر دلیلی ترجیح می‌دهید از `rustup` استفاده نکنید، لطفاً صفحه «روش‌های دیگر نصب Rust» را برای گزینه‌های بیشتر ببینید.

مراحل زیر آخرین نسخه پایدار کامپایلر Rust را نصب می‌کنند. تضمین‌های پایداری Rust اطمینان می‌دهند که تمام مثال‌های کتاب که کامپایل می‌شوند، با نسخه‌های جدیدتر Rust نیز کامپایل خواهند شد. خروجی ممکن است بین نسخه‌ها کمی متفاوت باشد، زیرا Rust اغلب پیام‌های خطا و هشدارها را بهبود می‌بخشد. به عبارت دیگر، هر نسخه پایدار جدیدتر Rust که با این مراحل نصب کنید، باید مطابق انتظار با محتوای این کتاب کار کند.

### نشانه‌گذاری خط فرمان
در این فصل و سراسر کتاب، برخی دستورات مورد استفاده در ترمینال را نشان می‌دهیم. خطوطی که باید در ترمینال وارد کنید، همگی با `$` شروع می‌شوند. نیازی به تایپ کاراکتر `$` نیست؛ این علامت اعلان خط فرمان است که نشان‌دهنده شروع هر دستور است. خطوطی که با `$` شروع نمی‌شوند، معمولاً خروجی دستور قبلی را نشان می‌دهند. همچنین، مثال‌های خاص PowerShell از `>` به‌جای `$` استفاده می‌کنند.

### نصب `rustup` روی لینوکس یا مک‌او‌اس
اگر از لینوکس یا مک‌او‌اس استفاده می‌کنید، ترمینال را باز کنید و دستور زیر را وارد کنید:

```bash
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

این دستور اسکریپتی را دانلود می‌کند و نصب ابزار `rustup` را آغاز می‌کند، که آخرین نسخه پایدار Rust را نصب می‌کند. ممکن است از شما رمز عبور درخواست شود. اگر نصب موفقیت‌آمیز باشد، خط زیر ظاهر می‌شود:

```
Rust is installed now. Great!
```

همچنین به یک لینکر نیاز دارید، برنامه‌ای که Rust از آن برای پیوند خروجی‌های کامپایل‌شده خود به یک فایل استفاده می‌کند. به احتمال زیاد شما از قبل یکی دارید. اگر با خطاهای لینکر مواجه شدید، باید یک کامپایلر C نصب کنید، که معمولاً شامل یک لینکر است. کامپایلر C همچنین مفید است، زیرا برخی بسته‌های رایج Rust به کد C وابسته‌اند و به کامپایلر C نیاز دارند.

در مک‌او‌اس، می‌توانید کامپایلر C را با اجرای دستور زیر دریافت کنید:

```bash
$ xcode-select --install
```

کاربران لینوکس معمولاً باید GCC یا Clang را طبق مستندات توزیع خود نصب کنند. برای مثال، اگر از اوبونتو استفاده می‌کنید، می‌توانید بسته `build-essential` را نصب کنید.

### نصب `rustup` روی ویندوز
در ویندوز، به آدرس https://www.rust-lang.org/tools/install بروید و دستورالعمل‌های نصب Rust را دنبال کنید. در مقطعی از نصب، از شما خواسته می‌شود Visual Studio را نصب کنید. این ابزار لینکر و کتابخانه‌های بومی موردنیاز برای کامپایل برنامه‌ها را فراهم می‌کند. اگر در این مرحله به کمک بیشتری نیاز دارید، به https://rust-lang.github.io/rustup/installation/windows-msvc.html مراجعه کنید.

بخش‌های بعدی این کتاب از دستوراتی استفاده می‌کنند که هم در `cmd.exe` و هم در PowerShell کار می‌کنند. اگر تفاوت‌های خاصی وجود داشته باشد، توضیح می‌دهیم که از کدام استفاده کنید.

### عیب‌یابی
برای بررسی اینکه آیا Rust به‌درستی نصب شده است، یک شل باز کنید و این خط را وارد کنید:

```bash
$ rustc --version
```

باید شماره نسخه، هش کامیت و تاریخ کامیت برای آخرین نسخه پایدار منتشرشده را در قالب زیر ببینید:

```
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

اگر این اطلاعات را دیدید، Rust را با موفقیت نصب کرده‌اید! اگر این اطلاعات را نمی‌بینید، بررسی کنید که آیا Rust در متغیر سیستمی `%PATH%` شما قرار دارد یا خیر، به این صورت:

در CMD ویندوز، استفاده کنید:

```cmd
> echo %PATH%
```

در PowerShell، استفاده کنید:

```powershell
> echo $env:Path
```

در لینوکس و مک‌او‌اس، استفاده کنید:

```bash
$ echo $PATH
```

اگر همه‌چیز درست باشد و Rust همچنان کار نکند، مکان‌های متعددی برای دریافت کمک وجود دارد. نحوه ارتباط با دیگر Rustaceanها (لقب بامزه‌ای که به خودمان می‌دهیم) را در صفحه جامعه پیدا کنید.

### به‌روزرسانی و حذف نصب
پس از نصب Rust از طریق `rustup`، به‌روزرسانی به نسخه جدید منتشرشده آسان است. از شل خود، اسکریپت به‌روزرسانی زیر را اجرا کنید:

```bash
$ rustup update
```

برای حذف نصب Rust و `rustup`، اسکریپت حذف نصب زیر را از شل خود اجرا کنید:

```bash
$ rustup self uninstall
```

### مستندات محلی
نصب Rust همچنین شامل یک نسخه محلی از مستندات است تا بتوانید آن را به‌صورت آفلاین بخوانید. دستور `rustup doc` را اجرا کنید تا مستندات محلی در مرورگر شما باز شود.

هر زمان که نوع یا تابعی توسط کتابخانه استاندارد ارائه شده و مطمئن نیستید چه کاری انجام می‌دهد یا چگونه از آن استفاده کنید، از مستندات رابط برنامه‌نویسی کاربردی (API) استفاده کنید تا اطلاعات لازم را پیدا کنید!

### ویرایشگرهای متن و محیط‌های توسعه یکپارچه
این کتاب هیچ فرضی درباره ابزارهایی که برای نوشتن کد Rust استفاده می‌کنید، ندارد. تقریباً هر ویرایشگر متنی کار را راه می‌اندازد! با این حال، بسیاری از ویرایشگرهای متن و محیط‌های توسعه یکپارچه (IDE) پشتیبانی داخلی برای Rust دارند. همیشه می‌توانید لیستی نسبتاً به‌روز از ویرایشگرها و IDEهای متعدد را در صفحه ابزارهای وب‌سایت Rust پیدا کنید.

### کار آفلاین با این کتاب
در چندین مثال، ما از بسته‌های Rust فراتر از کتابخانه استاندارد استفاده خواهیم کرد. برای کار با این مثال‌ها، یا باید به اینترنت متصل باشید یا وابستگی‌ها را از قبل دانلود کرده باشید. برای دانلود وابستگی‌ها از قبل، می‌توانید دستورات زیر را اجرا کنید. (ما بعداً توضیح خواهیم داد که Cargo چیست و هر یک از این دستورات چه کاری انجام می‌دهد.)

```bash
$ cargo new get-dependencies
$ cd get-dependencies
$ cargo add rand@0.8.5 trpl@0.2.0
```

این کار دانلودهای این بسته‌ها را در حافظه نهان ذخیره می‌کند تا بعداً نیازی به دانلود آن‌ها نداشته باشید. پس از اجرای این دستور، نیازی به نگه‌داشتن پوشه `get-dependencies` ندارید. اگر این دستور را اجرا کرده باشید، می‌توانید از پرچم `--offline` با تمام دستورات Cargo در بقیه کتاب استفاده کنید تا از نسخه‌های ذخیره‌شده به‌جای تلاش برای استفاده از شبکه استفاده شود.
